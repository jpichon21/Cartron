{% extends "layout.html.twig" %}
{% block title %}JOSEPH CARTRON{% endblock %}
{% block body %}
<div id="collection-produits" class="test2">
  <div class="main">
    <div class="collection-home">
      <div class="menu_collection">
        {% for collection in collections %}
          {% set break = false %}
          {% for sousMenu in sousMenus if not break %}
            {% if (collection.id == sousMenu.idCollection.id) %}
              <a class="title {% if sousMenu.idCollection.id == idCollection %}active{% endif %}" href="{{ path('collection_product', { id: sousMenu.id }) }}" style="border-color: #{{ collection.color }};">
                {% if (app.session.get('_locale') == 'en') %}{{ collection.titreEn | raw }}{% else %}{{ collection.titreFr | raw }}{% endif %}
              </a>
              {% set break = true %}
            {% endif %}
          {% endfor %}
        {% endfor %}
      </div>
      <div class="owl-carousel">
        {% for sousMenu in sousMenusCollection %}
            {% if sousMenu.idCollection.id == idCollection %}
            <div class="sousMenu">
              <div class="visuel">
                <h2>{% if app.session.get('_locale') == 'en' %}{{ sousMenu.titreEn }}{% else %}{{ sousMenu.titreFr }}{% endif %}</h2>
                <img src="{{ asset('upload/'~sousMenu.image) }}" alt="{{ sousMenu.titreFr }}">
              </div>
              <div class="description">
                <div class="accueil-produits">
                  {% if app.session.get('_locale') == 'en' %}{{ sousMenu.descriptionEn | raw }}{% else %}{{ sousMenu.descriptionFr | raw }}{% endif %}
                  <p class="marge9"><span>{{ "Degré" | trans }} :</span> {{ sousMenu.degre }}%</p>
                  <p class="marge9"><span>{{ "Contenance" | trans }} :</span> {% if app.session.get('_locale') == 'en' %}{{ sousMenu.contenanceEn }}{% else %}{{ sousMenu.contenanceFr }}{% endif %}</p>
                  <p class="marge9"><span>{{ "Conserver" | trans }}</span> {% if app.session.get('_locale') == 'en' %}{{ sousMenu.conserverEn }}{% else %}{{ sousMenu.conserverFr }}{% endif %}</p>
                </div>
                <div class="note-degustation">
                  <h3>{{ "Note de dégustation" | trans }}</h3>
                  {% if app.session.get('_locale') == 'en' %}{{ sousMenu.noteDegustationEn | raw }}{% else %}{{ sousMenu.noteDegustationFr | raw }}{% endif %}
                </div>
                <div class="note-elaboration">
                  <h3>{{ "Elaboration" | trans }}</h3>
                  {% if app.session.get('_locale') == 'en' %}{{ sousMenu.elaborationEn | raw }}{% else %}{{ sousMenu.elaborationFr | raw }}{% endif %}
                </div>
                <div class="link-produits">
                  <a href="{% if app.session.get('_locale') == 'en' %}{{ sousMenu.recetteEn }}{% else %}{{ sousMenu.recetteFr }}{% endif %}"><span><b>&rsaquo;</b>{{ "Recettes" | trans }}</span></a>
                  <a class="degustation"><span><b>&rsaquo;</b>{{ "Note de dégustation" | trans }}</span></a>
                  <a class="elaboration"><span><b>&rsaquo;</b>{{ "Elaboration" | trans }}</span></a>
                </div>
              </div>
            </div>
            {% endif %} 
        {% endfor %}
      </div>
    </div>    
  </div>
</div>
<script type="text/javascript">

  var elementsToSimplyBar = document.querySelectorAll('.accueil-produits, .note-degustation, .note-elaboration');
  elementsToSimplyBar.forEach(function(elementToSimplyBar) { new SimpleBar(elementToSimplyBar, { autoHide: false }); })

  $('.owl-carousel').owlCarousel({
    items: 1,
    nav: true,
    loop: true,
    navText: [
      '<div class="owl-prev"><svg width="30" height="70" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" preserveAspectRatio="none" fill-rule="evenodd" clip-rule="evenodd"><path d="M20 .755l-14.374 11.245 14.374 11.219-.619.781-15.381-12 15.391-12 .609.755z"/></svg></div>',  
      '<div class="owl-next"><svg width="30" height="70" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" preserveAspectRatio="none" fill-rule="evenodd" clip-rule="evenodd"><path d="M4 .755l14.374 11.245-14.374 11.219.619.781 15.381-12-15.391-12-.609.755z"/></svg></div>'
    ]
  });

</script>
<style>
    .simplebar-scrollbar:before {
      background: #{{ defaultColor }};
    }
    .simplebar-scrollbar,
    .simplebar-track.simplebar-vertical,
    .simplebar-track.simplebar-horizontal {
      width: 6px;
    }
    .simplebar-track.simplebar-vertical,
    .simplebar-track.simplebar-horizontal {
      background-color: #ffffff;
    }
    .collection-home .menu_collection #marc_{{ idCollection }} a {
      border-bottom: 2px solid #{{ defaultColor }};
    }
    .sousMenu .visuel h2,
    .sousMenu .description p span,
    .sousMenu .description .note-degustation h3,
    .sousMenu .description .note-elaboration h3 {
      color: #{{ defaultColor }} !important;
    }
    .sousMenu .description .link-produits a span {
      position: relative;
      padding: 0 10px 0 25px;
      height: 29px;
      line-height: 29px;
      color: #FFFFFF;
      background: none !important;
    }
    .sousMenu .description .link-produits a span b {
      position: absolute;
      top: -9px;
      left: 11px;
      font-size: 20px;
      color: #{{ defaultColor }} !important;
    }
    .accueil-produits,
    .note-degustation,
    .note-elaboration {
      width: 422px;
      height: 300px;
      overflow: auto;
    }
    .jspTrack {
      background: #ffffff;
    }
    .accueil-produits .jspDrag,
    .note-degustation .jspDrag,
    .note-elaboration .jspDrag {
      background: #{{ defaultColor }} !important;
    }
  </style>
{% endblock %}